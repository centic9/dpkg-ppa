.\" dpkg manual page - dpkg-buildpackage(1)
.\"
.\" Copyright Â© 1995-1996 Ian Jackson
.\" Copyright Â© 2000 Wichert Akkerman <wakkerma@debian.org>
.\" Copyright Â© 2007-2008 Frank Lichtenheld <djpig@debian.org>
.\" Copyright Â© 2008-2013 Guillem Jover <guillem@debian.org>
.\" Copyright Â© 2008-2012 RaphaÃ«l Hertzog <hertzog@debian.org>
.\"
.\" This is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program.  If not, see <https://www.gnu.org/licenses/>.
.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH dpkg\-buildpackage 1 2013\-12\-12 "Proyecto Debian" "Herramientas de dpkg"
.SH NOMBRE
dpkg\-buildpackage \- Construcción de paquetes binarios o fuente a partir de
las fuentes
.
.SH SINOPSIS
\fBdpkg\-buildpackage\fP [\fIopción\fP...]
.
.SH DESCRIPCIÓN
\fBdpkg\-buildpackage\fP es un programa que automatiza el proceso de
construcción de un paquete de Debian. Éste consiste de los siguientes pasos:
.IP \fB1.\fP 3
Preparación del entorno de construcción, definiendo varias variables de
entorno (consulte \fBVARIABLES DE ENTORNO\fP) para ejecutar \fBdpkg\-source
\-\-before\-build\fP (a menos que se defina \fB\-T\fP o \fB\-\-target\fP.
.IP \fB2.\fP 3
Verificar que las dependencias y conflictos de construcción
(«build\-dependencies» y «build\-conflicts», respectivamente) estén
satisfechas (a menos que especifique \fB\-d\fP).
.IP \fB3.\fP 3
Si se selecciona un objetivo específico con \fB\-T\fP o \fB\-\-target\fP, ejecutar
ese objetivo y se detiene. De no ser así, ejecuta \fBfakeroot debian/rules
clean\fP para limpiar el árbol de construcción (a menos que especifique
\fB\-nc\fP).
.IP \fB4.\fP 3
Ejecución de \fBdpkg\-source \-b\fP para generar el paquete fuente (a menos que
se requiera sólo la construcción del paquete binario con \fB\-b\fP, \fB\-B\fP o
\fB\-A\fP).
.IP \fB5.\fP 3
Ejecución de \fBdebian/rules\fP \fIbuild\-target\fP seguido de \fBfakeroot
debian/rules\fP \fIbinary\-target\fP (a menos que sólo se solicite la construcción
de las fuentes mediante \fB\-S\fP). Tenga en cuenta que y \fBbuild\-target\fP y
\fIbinary\-target\fP son \fBbuild\fP o \fBbinary\fP (por omisión, o si se define
\fB\-b\fP), o \fBbuild\-arch\fP y \fBbinary\-arch\fP (si se define \fB\-B\fP), o
\fBbuild\-indep\fP y \fBbinary\-indep\fP (si se define \fB\-A\fP).
.IP \fB6.\fP 3
It calls \fBgpg2\fP or \fBgpg\fP to sign the \fB.dsc\fP file (if any, unless \fB\-us\fP
is specified or on UNRELEASED builds).
.IP \fB7.\fP 3
Ejecución de \fBdpkg\-genchanges\fP para generar el fichero \fB.changes\fP. Muchas
de las opciones de \fBdpkg\-buildpackage\fP se introducen a \fBdpkg\-genchanges\fP.
.IP \fB8.\fP 3
It calls \fBgpg2\fP or \fBgpg\fP to sign the \fB.changes\fP file (unless \fB\-uc\fP is
specified or on UNRELEASED builds).
.IP \fB9.\fP 3
Si se especifica \fB\-tc\fP, se ejecutará nuevamente \fBfakeroot debian/rules
clean\fP. Por último, ejecuta \fBdpkg\-source \-\-after\-build\fP.
.
.SH OPCIONES
.TP 
\fB\-b\fP
Especifica una construcción sólo binaria, no se construirán ficheros de
fuentes y/o distribuidas. Se introduce a \fBdpkg\-genchanges\fP.
.TP 
\fB\-B\fP
Especifica una construcción sólo binaria, limitada a paquetes dependientes
de arquitectura. Se introduce a \fBdpkg\-genchanges\fP.
.TP 
\fB\-A\fP
Especifica una construcción sólo binaria, limitada a paquetes independientes
de la arquitectura. Se introduce a \fBdpkg\-genchanges\fP.
.TP 
\fB\-S\fP
Especifica una construcción sólo de las fuentes, no se construirá ningún
paquete binario. Se introduce a \fBdpkg\-genchanges\fP.
.TP 
\fB\-F\fP
Define una construcción completa normal, se construyen los paquetes binarios
y de fuente. Es idéntica al comportamiento predefinido cuando no se define
ninguna opción de construcción.
.TP 
\fB\-\-target=\fP\fItarget\fP
.TQ
\fB\-\-target \fP\fItarget\fP
.TQ
\fB\-T\fP\fItarget\fP
Ejecuta \fBdebian/rules\fP \fItarget\fP después de definir el entorno de
construcción, deteniendo en este punto el proceso de construcción del
paquete. Si se introduce \fB\-\-as\-root\fP, la orden se ejecutará como el usuario
«root» (véase \fB\-r\fP). Tenga en cuenta que los objetivos oficiales que
precisan ejecutarse como administrador según las directrices de Debian no
necesitan esta opción.
.TP 
\fB\-\-as\-root\fP
Su uso sólo tiene sentido con \fB\-\-target\fP. Requiere que se ejecute el
objetivo con permisos del usuario «root».
.TP 
\fB\-si\fP
.TQ
\fB\-sa\fP
.TQ
\fB\-sd\fP
.TQ
\fB\-v\fP\fIversión\fP
.TQ
\fB\-C\fP\fIdescripción\-de\-cambios\fP
.TQ
\fB\-m\fP\fIdirección\-mantenedor\fP
.TQ
\fB\-e\fP\fIdirección\-mantenedor\fP
Se introduce sin cambios a \fBdpkg\-genchanges\fP. Consulte la página de manual.
.TP 
\fB\-a\fP\fIarquitectura\fP
Especifica la arquitectura de Debian para la cual se construye el
paquete. La arquitectura de la máquina en la que se construye el paquete se
detecta automáticamente, y es también la arquitectura de destino por omisión
para la máquina anfitrión.
.TP 
\fB\-t\fP\fItipo\-sistema\-gnu\fP
Define el tipo de sistema GNU para el cual se construye el paquete. Se puede
utilizar en lugar de «\-a», o como un complemento para invalidar el tipo de
sistema GNU predefinido de la arquitectura Debian de destino.
.TP 
\fB\-P\fP\fIprofile\fP[\fB,\fP...]
Specify the profile(s) we build, as a comma\-separated list, without the
"\fBprofile.\fP" namespace prefix. The default behavior is to build for no
specific profile. Also adds them (as a space separated list) to the
\fBDEB_BUILD_PROFILES\fP environment variable which allows, for example,
\fBdebian/rules\fP files to use this information for conditional builds.
.TP 
\fB\-j\fP\fItareas\fP
Number of jobs allowed to be run simultaneously, equivalent to the
\fBmake\fP(1)  option of the same name. Will add itself to the \fBMAKEFLAGS\fP
environment variable, which should cause all subsequent make invocations to
inherit the option. Also adds \fBparallel=\fP\fIjobs\fP to the
\fBDEB_BUILD_OPTIONS\fP environment variable which allows debian/rules files to
use this information for their own purposes.  The \fBparallel=\fP\fIjobs\fP in
\fBDEB_BUILD_OPTIONS\fP environment variable will override the \fB\-j\fP value if
this option is given.
.TP 
\fB\-D\fP
Verifica las dependencias y los conflictos de construcción, interrumpiendo
el proceso si alguna no está satisfecha. Este es el comportamiento por
omisión.
.TP 
\fB\-d\fP
No revisa dependencias ni conflictos de construcción.
.TP 
\fB\-nc\fP
No limpia el árbol de fuentes (implica \fB\-b\fP si no se introdujo \fB\-B\fP, \fB\-A\fP
o \fB\-S\fP).
.TP 
\fB\-tc\fP
Limpia el árbol de fuentes (usando \fIorden\-para\-obtener\-root\fP \fBdebian/rules
clean\fP) después de la creación del paquete.
.TP 
\fB\-r\fP\fIorden\-para\-obtener\-root\fP
Cuando \fBdpkg\-buildpackage\fP necesite ejecutar parte del proceso de
construcción como «root», añade el prefijo \fIorden\-para\-obtener\-root\fP a la
orden a ejecutar en caso de haberse especificado. La
\fIorden\-para\-obtener\-root\fP debe ser el nombre de un programa que esté dentro
del \fBPATH\fP, y tomará como argumentos el nombre del proceso a ejecutar, así
como los argumentos que éste toma. La \fIorden\-para\-obtener\-root\fP puede
incluir parámetros, pero no caracteres especiales del intérprete de
órdenes. La \fIorden\-para\-obtener\-root\fP puede ser \fBfakeroot\fP, \fBsudo\fP,
\fBsuper\fP o \fBreally\fP. \fBsu\fP no es adecuado ya que sólo puede iniciar el
intérprete de órdenes del usuario con \fB\-c\fP, en lugar de introducir los
argumentos individualmente a la orden a ejecutar.
.TP 
\fB\-R\fP\fIfichero\-reglas\fP
Habitualmente, construir un paquete de Debian incluye ejecutar
\fBdebian/rules\fP como una orden con varios parámetros estándar. Esta opción
posibilita ejecutar otro programa para construir el paquete (puede incluir
parámetros separados por espacios). Por otra parte, se puede utilizar para
ejecutar el fichero de reglas («rules») estándar con otro programa de make
(por ejemplo, usando \fB/usr/local/bin/make \-f debian/rules\fP como
\fIfichero\-reglas\fP.
.TP 
\fB\-p\fP\fIorden\-para\-firmar\fP
When \fBdpkg\-buildpackage\fP needs to execute GPG to sign a source control
(\fB.dsc\fP) file or a \fB.changes\fP file it will run \fIsign\-command\fP (searching
the \fBPATH\fP if necessary) instead of \fBgpg2\fP or \fBgpg\fP. \fIsign\-command\fP will
get all the arguments that \fBgpg2\fP or \fBgpg\fP would have
gotten. \fIsign\-command\fP should not contain spaces or any other shell
metacharacters.
.TP 
\fB\-k\fP\fIllave\-id\fP
Especifica una llave de identificación a utilizar para firmar los paquetes.
.TP 
\fB\-us\fP
No firma el paquete fuente.
.TP 
\fB\-uc\fP
No firma el fichero \fB.changes\fP.
.TP 
\fB\-\-force\-sign\fP
Force the signing of the resulting files (since dpkg 1.17.0), regardless of
\fB\-us\fP or \fB\-uc\fP or other internal heuristics.
.TP 
\fB\-i\fP[\fIregex\fP]
.TQ
\fB\-I\fP[\fIpattern\fP]
.TQ
\fB\-s\fP[\fBnsAkurKUR\fP]
.TQ
\fB\-z\fP, \fB\-Z\fP
Se introduce sin cambios a \fBdpkg\-source\fP. Consulte la página de manual.
.TP 
\fB\-\-source\-option=\fP\fIopción\fP
Introduce la opción \fIopción\fP a \fBdpkg\-source\fP.
.TP 
\fB\-\-changes\-option=\fP\fIopción\fP
Introduce la opción \fIopción\fP a \fBdpkg\-genchanges\fP.
.TP 
\fB\-\-admindir=\fP\fIdirectorio\fP
.TQ
\fB\-\-admindir\fP \fIdirectorio\fP
Cambia el directorio con la base de datos de \fBdpkg\fP. Por omisión es
\fI/var/lib/dpkg\fP.
.TP 
\fB\-?\fP, \fB\-\-help\fP
Muestra el modo de uso y termina.
.TP 
\fB\-\-version\fP
Muestra la versión y termina.
.
.SH ENTORNO
.TP 
\fBDEB_SIGN_KEYID\fP
If set, it will be used to sign the \fB.changes\fP and \fB.dsc\fP files.
Overridden by the \fB\-k\fP option.
.TP 
\fBDEB_BUILD_PROFILES\fP
If set, it will be used as the active build profile(s) for the package being
built. It is a space separated list of profile names, without the
"\fBprofile.\fP" namespace prefix. Overridden by the \fB\-P\fP option.

.SS "Reliance on exported environment flags"
Aún en el caso de que \fBdpkg\-buildpackage\fP exporte algunas variables,
\fBdebian/rules\fP no debería depender de su presencia, sino que debería
utilizar la interfaz adecuada para obtener los valores necesarios.
.SS "Variables definidas por dpkg\-architecture"
\fBdpkg\-architecture\fP se ejecuta con los parámetros \fB\-a\fP y \fB\-t\fP. Toda
variable que ofrece una salida mediante su opción \fB\-s\fP se integra en el
entorno de construcción.
.
.SH NOTAS
.SS "Las opciones de compilación ya no se exportan."
Between dpkg 1.14.17 and 1.16.1, \fBdpkg\-buildpackage\fP exported compiler
flags (\fBCFLAGS\fP, \fBCXXFLAGS\fP, \fBFFLAGS\fP, \fBCPPFLAGS\fP and \fBLDFLAGS\fP) with
values as returned by \fBdpkg\-buildflags\fP. This is no longer the case.
.SS "Default build targets"
\fBdpkg\-buildpackage\fP is using the \fBbuild\-arch\fP and \fBbuild\-indep\fP targets
since dpkg 1.16.2. Those targets are thus mandatory. But to avoid breakages
of existing packages, and ease the transition, it will fallback to using the
\fBbuild\fP target if \fBmake \-f debian/rules \-qn\fP \fIbuild\-target\fP returns 2 as
exit code.
.SH FALLOS
Debería ser posible especificar espacios y caracteres especiales del
intérprete de órdenes en los argumentos iniciales de la
\fIorden\-para\-obtener\-root\fP y la \fIorden\-para\-firmar\fP.
.
.SH "VÉASE TAMBIÉN"
.ad l
.nh
\fBdpkg\-source\fP(1), \fBdpkg\-architecture\fP(1), \fBdpkg\-buildflags\fP(1),
\fBdpkg\-genchanges\fP(1), \fBfakeroot\fP(1), \fBgpg2\fP(1), \fBgpg\fP(1).
.SH TRADUCTOR
Rudy Godoy <rudy@kernel\-panik.org>,
Rubén Porras <nahoo@inicia.es>,
Bruno Barrera C. <bruno.barrera@igloo.cl>,
Carlos Izquierdo <gheesh@ertis.net>,
Esteban Manchado y
NOK.
Debian L10n Spanish <debian\-l10n\-spanish@lists.debian.org>.
.br
Revisiones por Santiago Vila <sanvila@unex.es>,
Javier Fernández\-Sanguino, Rubén Porras,
Luis Uribe y Omar Campagne.
