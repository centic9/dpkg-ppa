.\" dpkg manual page - dpkg-buildpackage(1)
.\"
.\" Copyright Â© 1995-1996 Ian Jackson
.\" Copyright Â© 2000 Wichert Akkerman <wakkerma@debian.org>
.\" Copyright Â© 2007-2008 Frank Lichtenheld <djpig@debian.org>
.\" Copyright Â© 2008-2013 Guillem Jover <guillem@debian.org>
.\" Copyright Â© 2008-2012 RaphaÃ«l Hertzog <hertzog@debian.org>
.\"
.\" This is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program.  If not, see <https://www.gnu.org/licenses/>.
.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH dpkg\-buildpackage 1 2013\-12\-12 "Projet Debian" "Utilitaires de dpkg"
.SH NOM
dpkg\-buildpackage \- Construire depuis les sources des paquets binaires ou
sources
.
.SH SYNOPSIS
\fBdpkg\-buildpackage\fP [\fIoption\fP...]
.
.SH DESCRIPTION
\fBdpkg\-buildpackage\fP est un programme qui permet d'automatiser la
construction d'un paquet Debian. Il comporte les étapes suivantes\ :
.IP \fB1.\fP 3
Préparation de l'environnement de compilation par positionnement de diverses
variables d'environnement (voir \fBVARIABLES D'ENVIRONNEMENT\fP) et appel de
\fBdpkg\-source \-\-before\-build\fP (sauf si \fB\-T\fP ou \fB\-\-target\fP ont été
utilisés).
.IP \fB2.\fP 3
Contrôle des dépendances de constructions et des conflits de construction
(non effectué si \fB\-d\fP est utilisé).
.IP \fB3.\fP 3
Si une cible particuilère a été indiquée avec les options \fB\-T\fP ou
\fB\-\-target\fP, appel de cette cible et arrêt. Dans le cas contraire, appel de
\fBfakeroot debian/rules clean\fP pour nettoyage de l'arborescence source (sauf
si \fB\-nc\fP a été utilisé).
.IP \fB4.\fP 3
Appel de \fBdpkg\-source \-b\fP pour créer le paquet source (sauf si une
contruction binaire seule a été demandée avec \fB\-b\fP, \fB\-B\fP ou \fB\-A\fP).
.IP \fB5.\fP 3
Appel de \fBdebian/rules\fP \fIbuild\-target\fP suivi de \fBfakeroot debian/rules\fP
\fIbinary\-target\fP (sauf si une construction source seule a été demandée avec
\fB\-S\fP). Noter que \fIbuild\-target\fP et \fIbinary\-target\fP sont soit \fBbuild\fP et
\fBbinary\fP (cas par défaut, ou avec utilisation de \fB\-b\fP) soit \fBbuild\-arch\fP
et \fBbinary\-arch\fP (si \fB\-B\fP est utilisé) soit \fBbuild\-indep\fP et
\fBbinary\-indep\fP (si \fB\-A\fP est utilisé).
.IP \fB6.\fP 3
It calls \fBgpg2\fP or \fBgpg\fP to sign the \fB.dsc\fP file (if any, unless \fB\-us\fP
is specified or on UNRELEASED builds).
.IP \fB7.\fP 3
Appel de \fBdpkg\-genchanges\fP pour créer un fichier \fB.changes\fP. De nombreuses
options de \fBdpkg\-buildpackage\fP sont passées à \fBdpkg\-genchanges\fP.
.IP \fB8.\fP 3
It calls \fBgpg2\fP or \fBgpg\fP to sign the \fB.changes\fP file (unless \fB\-uc\fP is
specified or on UNRELEASED builds).
.IP \fB9.\fP 3
Si \fB\-tc\fP est utilisé, appel de \fBfakeroot debian/rules clean\fP à
nouveau. Enfin, appel de \fBdpkg\-source \-\-after\-build\fP.
.
.SH OPTIONS
.TP 
\fB\-b\fP
Indique que seul un paquet binaire est à construire\ ; aucun fichier source
n'est à construire et/ou à distribuer. Passé à \fBdpkg\-genchanges\fP.
.TP 
\fB\-B\fP
Indique une construction uniquement binaire, limitée aux paquets dépendant
d'une architecture. Passé à \fBdpkg\-genchanges\fP.
.TP 
\fB\-A\fP
Indique une construction uniquement binaire, limitée aux paquets ne
dépendant pas d'une architecture. Passé à \fBdpkg\-genchanges\fP.
.TP 
\fB\-S\fP
Ne construit qu'un paquet source, aucun paquet binaire ne sera
construit. Passé à \fBdpkg\-genchanges\fP.
.TP 
\fB\-F\fP
Construction complète où les paquets sources et binaires sont
construits. Identique au cas par défaut où aucune option de construction
n'est indiquée.
.TP 
\fB\-\-target=\fP\fIcible\fP
.TQ
\fB\-\-target \fP\fIcible\fP
.TQ
\fB\-T\fP\fIcible\fP
Appelle \fBdebian/rules\fP \fIcible\fP après avoir mis en place l'environnement de
construction, puis interrompt le processus de construction. Si \fB\-\-as\-root\fP
est également utilisé, la commande sera exécutée avec les privilèges du
superutilisateur (voir \fB\-r\fP). Noter que les cibles dont l'exécution par
root est imposée par la Charte Debian n'ont pas besoin de cette option.
.TP 
\fB\-\-as\-root\fP
N'est utile qu'avec \fB\-\-target\fP. Impose d'exécuter la cible avec les
privilèges du superutilisateur.
.TP 
\fB\-si\fP
.TQ
\fB\-sa\fP
.TQ
\fB\-sd\fP
.TQ
\fB\-v\fP\fIversion\fP
.TQ
\fB\-C\fP\fIdescription\-des\-changements\fP
.TQ
\fB\-m\fP\fIadresse\-du\-responsable\fP
.TQ
\fB\-e\fP\fIadresse\-du\-responsable\fP
Passé tel quel à \fBdpkg\-genchanges\fP. Voir sa page de manuel.
.TP 
\fB\-a\fP\fIarchitecture\fP
Précise l'architecture Debian pour laquelle on construit. L'architecture de
la machine sur laquelle on construit est automatiquement déterminée\ ; c'est
aussi l'architecture par défaut de la machine hôte.
.TP 
\fB\-t\fP\fItype\-de\-système\-gnu\fP
Précise le type de système GNU pour lequel construire. Il peut être utilisé
à la place de \fB\-a\fP ou en tant que complément afin de remplacer le type de
système GNU par défaut de l'architecture Debian cible.
.TP 
\fB\-P\fP\fIprofile\fP[\fB,\fP...]
Specify the profile(s) we build, as a comma\-separated list, without the
"\fBprofile.\fP" namespace prefix. The default behavior is to build for no
specific profile. Also adds them (as a space separated list) to the
\fBDEB_BUILD_PROFILES\fP environment variable which allows, for example,
\fBdebian/rules\fP files to use this information for conditional builds.
.TP 
\fB\-j\fP\fIjobs\fP
Number of jobs allowed to be run simultaneously, equivalent to the
\fBmake\fP(1)  option of the same name. Will add itself to the \fBMAKEFLAGS\fP
environment variable, which should cause all subsequent make invocations to
inherit the option. Also adds \fBparallel=\fP\fIjobs\fP to the
\fBDEB_BUILD_OPTIONS\fP environment variable which allows debian/rules files to
use this information for their own purposes.  The \fBparallel=\fP\fIjobs\fP in
\fBDEB_BUILD_OPTIONS\fP environment variable will override the \fB\-j\fP value if
this option is given.
.TP 
\fB\-D\fP
Vérifier les dépendances de constructions et les conflits\ ; se termine en
cas de problèmes. Ceci est le comportement par défaut.
.TP 
\fB\-d\fP
Ne pas vérifier les dépendances de constructions et les conflits.
.TP 
\fB\-nc\fP
Ne pas nettoyer l'arborescence des sources (implique \fB\-b\fP si aucune des
options \fB\-B\fP, \fB\-A\fP ou \fB\-S\fP n'est utilisée).
.TP 
\fB\-tc\fP
Nettoyage de l'arborescence (en utilisant
\fIcommande\-pour\-obtenir\-privilèges\-de\-root\fP \fBdebian/rules clean\fP) après la
construction du paquet.
.TP 
\fB\-r\fP\fIcommande\-pour\-obtenir\-privilèges\-de\-root\fP
Quand \fBdpkg\-buildpackage\fP doit exécuter une partie du processus de
construction en tant que root, il préfixe la commande exécutée par
\fIcommande\-pour\-obtenir\-privilèges\-de\-root\fP, si une a été spécifiée. Si ce
n'est pas le cas alors \fBfakeroot\fP est utilisé par
défaut. \fIcommande\-pour\-obtenir\-privilèges\-de\-root\fP doit débuter par le nom
d'un programme accessible depuis \fBPATH\fP et avoir comme arguments le nom de
la commande réelle avec les arguments qu'elle doit
prendre. \fIcommande\-pour\-obtenir\-privilèges\-de\-root\fP peut recevoir des
paramètres (ils doivent être séparés par des espaces) mais aucun
«\ métacaractère\ » de l'interpréteur de commandes. Classiquement
\fIcommande\-pour\-obtenir\-privilèges\-de\-root\fP devrait être \fBfakeroot\fP,
\fBsudo\fP, \fBsuper\fP ou \fBreally\fP. \fBsu\fP ne va pas, puisque ce programme peut
uniquement utiliser l'interpréteur de commandes de l'utilisateur avec
l'option \fB\-c\fP au lieu de passer directement les arguments à la commande qui
doit être exécutée.
.TP 
\fB\-R\fP\fIfichier\-rules\fP
Construire un paquet Debian implique généralement l'invocation de
\fBdebian/rules\fP comme une commande avec de nombreux paramètres
standards. Avec cette option, il est possible d'utiliser un autre programme
à utiliser pour la construction de paquet (ainsi que ses paramètres séparés
par des espaces). Une autre utilisation possible est d'exécuter le fichier
rules standard avec un autre programme de construction (par exemple en
utilisant \fB/usr/local/bin/make \-f debian/rules\fP comme \fIfichier\-rules\fP).
.TP 
\fB\-p\fP\fIcommande\-de\-signature\fP
When \fBdpkg\-buildpackage\fP needs to execute GPG to sign a source control
(\fB.dsc\fP) file or a \fB.changes\fP file it will run \fIsign\-command\fP (searching
the \fBPATH\fP if necessary) instead of \fBgpg2\fP or \fBgpg\fP. \fIsign\-command\fP will
get all the arguments that \fBgpg2\fP or \fBgpg\fP would have
gotten. \fIsign\-command\fP should not contain spaces or any other shell
metacharacters.
.TP 
\fB\-k\fP\fIkey\-id\fP
Précise une clé pour la signature des paquets.
.TP 
\fB\-us\fP
Ne pas signer le paquet source.
.TP 
\fB\-uc\fP
Ne pas signer le fichier \fB.changes\fP.
.TP 
\fB\-\-force\-sign\fP
Force the signing of the resulting files (since dpkg 1.17.0), regardless of
\fB\-us\fP or \fB\-uc\fP or other internal heuristics.
.TP 
\fB\-i\fP[\fIregex\fP]
.TQ
\fB\-I\fP[\fIpattern\fP]
.TQ
\fB\-s\fP[\fBnsAkurKUR\fP]
.TQ
\fB\-z\fP, \fB\-Z\fP
Chaîne passée telle quelle à \fBdpkg\-source\fP. Voir la page de manuel
correspondante.
.TP 
\fB\-\-source\-option=\fP\fIopt\fP
Passe l'option \fIopt\fP à \fBdpkg\-source\fP.
.TP 
\fB\-\-changes\-option=\fP\fIopt\fP
Passe l'option \fIopt\fP à \fBdpkg\-genchanges\fP.
.TP 
\fB\-\-admindir\fP=\fIdir\fP
.TQ
\fB\-\-admindir \fP\fIrép\fP
Change l'endroit où se trouve la base de données de \fBdpkg\fP. Par défaut,
c'est \fI/var/lib/dpkg\fP.
.TP 
\fB\-?\fP, \fB\-\-help\fP
Affiche un message d'aide puis quitte.
.TP 
\fB\-\-version\fP
Affiche le numéro de version puis quitte.
.
.SH ENVIRONNEMENT
.TP 
\fBDEB_SIGN_KEYID\fP
If set, it will be used to sign the \fB.changes\fP and \fB.dsc\fP files.
Overridden by the \fB\-k\fP option.
.TP 
\fBDEB_BUILD_PROFILES\fP
If set, it will be used as the active build profile(s) for the package being
built. It is a space separated list of profile names, without the
"\fBprofile.\fP" namespace prefix. Overridden by the \fB\-P\fP option.

.SS "Reliance on exported environment flags"
Même si \fBdpkg\-buildpackage\fP exporte certaines variables, \fBdebian/rules\fP ne
doit pas dépendre de leur présence, mais doit préférablement utiliser
l'interface correspondante pour retrouver les valeurs nécessaires.
.SS "Variables positionnées par \fBdpkg\-architecture\fP"
\fBdpkg\-architecture\fP est lancé avec les paramètres de \fB\-a\fP and \fB\-t\fP. Toute
variable retournée par l'option \fB\-s\fP est intégrée dans l'environnement de
construction.
.
.SH NOTES
.SS "Les drapeaux de compilation ne sont plus exportés."
Between dpkg 1.14.17 and 1.16.1, \fBdpkg\-buildpackage\fP exported compiler
flags (\fBCFLAGS\fP, \fBCXXFLAGS\fP, \fBFFLAGS\fP, \fBCPPFLAGS\fP and \fBLDFLAGS\fP) with
values as returned by \fBdpkg\-buildflags\fP. This is no longer the case.
.SS "Default build targets"
\fBdpkg\-buildpackage\fP is using the \fBbuild\-arch\fP and \fBbuild\-indep\fP targets
since dpkg 1.16.2. Those targets are thus mandatory. But to avoid breakages
of existing packages, and ease the transition, it will fallback to using the
\fBbuild\fP target if \fBmake \-f debian/rules \-qn\fP \fIbuild\-target\fP returns 2 as
exit code.
.SH BOGUES
On devrait pouvoir mettre des espaces et des métacaractères du shell dans
les arguments initiaux de \fIcommande\-pour\-obtenir\-privilèges\-de\-root\fP et
\fIcommande\-de\-signature\fP.
.
.SH "VOIR AUSSI"
.ad l
.nh
\fBdpkg\-source\fP(1), \fBdpkg\-architecture\fP(1), \fBdpkg\-buildflags\fP(1),
\fBdpkg\-genchanges\fP(1), \fBfakeroot\fP(1), \fBgpg2\fP(1), \fBgpg\fP(1).
.SH TRADUCTION
Ariel VARDI <ariel.vardi@freesbee.fr>, 2002.
Philippe Batailler, 2006.
Nicolas François, 2006.
Veuillez signaler toute erreur à <debian\-l10n\-french@lists.debian.org>.
